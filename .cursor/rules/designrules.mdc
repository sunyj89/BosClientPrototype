---
description: 
globs: 
alwaysApply: true
---

# 智慧能源系统BOS后台设计规范

## 目录

1. [设计理念](#设计理念)
2. [布局与导航](#布局与导航)
3. [组件与模式](#组件与模式)
4. [特定功能设计规范](#特定功能设计规范)
   - [审批中心设计规范](./ApprovalCenterRules.md)
5. [模拟数据规范](#模拟数据规范)
6. [开发规范](#开发规范)

## 设计理念

### 整体风格
- 采用企业级应用的简洁现代风格
- 以蓝色为主色调，搭配白色背景，体现专业性和清晰度
- 布局结构清晰，层次分明，便于用户快速定位功能
- 遵循一致性原则，各页面保持统一的设计语言

### 组件库
- 基于 Ant Design 组件库开发
- 遵循 Ant Design 设计规范，保持组件使用的一致性
- 适当定制组件样式，以符合智慧能源系统BOS后台的业务特点
- 不需要在表单页面展示统计功能

### 通用布局
- 页面顶部为导航栏
- 左侧为菜单栏，采用树形结构展示功能模块
- 右侧为内容区域，使用卡片式布局包裹内容
- 表单和表格区域之间使用分隔线（不用卡片）
- 不需要面包屑导航

### 响应式设计
- 采用栅格系统（Row/Col）实现响应式布局
- 表单项在不同屏幕尺寸下自适应调整
- 小屏幕下单列显示，大屏幕下多列显示
- 表格支持水平滚动（`scroll={{ x: 'max-content' }}`）

## 布局与导航

### 列表页面布局
- 页面结构自上而下：
  1. 筛选区域
  2. 操作按钮区
  3. 数据表格区

### 筛选区域规范
- 内边距：`padding: 16px`
- 底部间距：`margin-bottom: 16px`
- 表单项布局：
  ```jsx
  <Form layout="inline">
    <Form.Item name="keyword" label="关键字">
      <Input placeholder="请输入关键字" allowClear />
    </Form.Item>
    <Form.Item name="dateRange" label="日期范围">
      <RangePicker />
    </Form.Item>
    // ... 其他筛选项
  </Form>
  ```

### 操作按钮区规范
- 位置：筛选表单最后一行
- 布局：使用 Space 组件包裹
- 按钮顺序：查询、重置、新建/导出等功能按钮
```jsx
<Form.Item>
  <Space>
    <Button type="primary" htmlType="submit" icon={<SearchOutlined />}>
      查询
    </Button>
    <Button icon={<ReloadOutlined />}>
      重置
    </Button>
    <Button type="primary" icon={<PlusOutlined />}>
      新建
    </Button>
  </Space>
</Form.Item>
```

### 导航规范
- 左侧导航栏为2级目录设计
- 每个打开的报表采用顶部tab
- tab可以任意切换或者关闭，支持一次关闭所有tab
- 切换tab页时不刷新页面

## 组件与模式

### 按钮样式规则

#### 主要操作按钮
```jsx
// 查询按钮
<Button 
  type="primary" 
  icon={<SearchOutlined />}
  htmlType="submit"
>
  查询
</Button>

// 新建按钮
<Button 
  type="primary" 
  icon={<PlusOutlined />}
>
  新建
</Button>
```

#### 次要操作按钮
```jsx
// 重置按钮
<Button 
  icon={<ReloadOutlined />}
>
  重置
</Button>

// 返回按钮
<Button 
  icon={<ArrowLeftOutlined />}
>
  返回
</Button>
```

### 表格规范
- 表格列宽度：根据内容设置合适的宽度
- 表格操作列：固定在右侧，宽度合适
- 表格分页：默认每页10条
- 表格空数据：显示友好的提示

## 特定功能设计规范

我们为系统中的特定功能模块制定了详细的设计规范，确保功能实现的一致性和易用性。

### 审批中心设计规范

审批中心是系统中统一处理各类审批事项的功能模块，遵循"先提交申请，后台审批"的流程，确保数据变更的可追溯性和安全性。

详细规范请参考：[审批中心设计规范](src\docs\ApprovalCenterRules.md)

主要特点：
- 采用双Tab页设计（列表 + 审批中心）
- 支持批量和单个审批操作
- 实现统一的审批流程和数据模型

## 模拟数据规范

### 数据文件组织
  - 位置：`src/mock/[模块名]/[功能名].json`
  - 命名规范：使用小驼峰命名法
  - 示例：`src/mock/system/userList.json`

### 通用模拟数据
- 组织架构要求
  - 总公司：江西交投化石能源公司
  - 分公司（8个）：赣中分公司、赣东北分公司、赣东分公司、赣东南分公司、赣南分公司、赣西南分公司、赣西分公司、赣西北分公司
  - 每个分公司下有2个服务区，每个服务区有2个油站

- 员工要求
  - 总公司：总经理，副总经理，部长，副部长，主任，业务经理
  - 分公司：经理，副经理，业务经理
  - 油站：油站经理，加油员，收银员，财务人员，安全管理人员

- 油品品号
  - 每个加油站都有4种油品品号+1种尿素：92#，95#，98#，0#，尿素

- 油枪信息
  - 每个加油站都有8把加油枪+1个尿素枪：92#有2把油枪，95#有2把油枪，98#有2把油枪，0#有2把油枪，尿素有1把油枪

### 审批数据规范
- 审批中心模拟数据位置：`src/mock/[模块名]/[模块名]ApprovalData.json`
- 标准数据结构：
  ```javascript
  {
    "pendingApprovals": [ /* 待审批记录 */ ],
    "approvalHistory": [ /* 审批历史记录 */ ]
  }
  ```

## 开发规范

### 文件组织规则

#### 基础目录结构
```
src/
├── pages/                    # 页面目录
│   ├── [模块名]/            # 功能模块目录
│   │   ├── index.js         # 模块入口文件
│   │   ├── index.css        # 模块样式文件
│   │   ├── components/      # 模块私有组件
│   │   ├── services/        # 模块服务
│   │   └── utils/           # 模块工具函数
│   ├── components/          # 公共组件
│   ├── services/            # 公共服务
│   └── utils/               # 公共工具函数
├── components/              # 全局组件
├── services/                # 全局服务
├── utils/                   # 全局工具函数
├── assets/                  # 静态资源
├── styles/                  # 全局样式
├── docs/                    # 项目文档
└── config/                  # 配置文件
```

#### 命名规范
- 文件夹：小写字母，多词用连字符
- 组件文件：大驼峰命名
- 样式文件：与组件同名，使用css后缀
- 服务文件：小驼峰命名
- 工具函数：小驼峰命名

### 性能优化规范

#### 数据加载
- 审批历史采用分页加载
- 附件使用懒加载
- 表单验证使用防抖处理

#### 组件优化
- 使用 React.memo 包装纯展示组件
- 使用 useMemo 缓存计算属性
- 使用 useCallback 缓存事件处理函数 