# 发票管理系统字段名映射对照表

## 字段命名规范

### 命名原则
1. 使用英文单词，遵循驼峰命名规范的蛇形命名法（snake_case）
2. 字段名要语义清晰，便于理解
3. 在注释中保留原始中文拼音字段名，格式：`(原字段名)中文说明`
4. 避免使用缩写，使用完整单词

### 通用字段映射
| 原字段名 | 新字段名 | 说明 |
|---------|----------|------|
| created_time | created_time | 创建时间 |
| updated_time | updated_time | 更新时间 |
| deleted_time | deleted_time | 删除时间 |
| created_by | created_by | 创建者 |
| updated_by | updated_by | 更新者 |
| deleted | deleted | 是否删除 |

## 1. 开票记录表 (invoice_record)

| 原字段名 | 新字段名 | 说明 |
|---------|----------|------|
| fpqqlsh | order_code | 发票请求流水号(内部订单编号) |
| - | station_id | 站点ID（新增字段） |
| lzfpbz | invoice_flag | 蓝字发票标志 |
| ptbh | platform_code | 平台编号 |
| fppz | invoice_type | 发票票种 |
| gmfzrrbz | buyer_type | 购买方自然人标志 |
| tdys | special_elements | 特定要素 |
| qydm | region_code | 区域代码 |
| cezslxDm | tax_deduction_type_code | 差额征税类型代码 |
| sgfplxDm | purchase_invoice_type_code | 收购发票类型代码 |
| ckywsyzcDm | export_business_policy_code | 出口业务适用政策代码 |
| zzsjzjtDm | vat_instant_refund_code | 增值税即征即退代码 |
| xsfdz | seller_address | 销售方地址 |
| xsfdh | seller_phone | 销售方电话 |
| xsfkhh | seller_bank_name | 销售方开户行 |
| xsfzh | seller_bank_account | 销售方账号 |
| gmfnsrsbh | buyer_tax_id | 购买方统一社会信用代码 |
| gmfmc | buyer_name | 购买方名称 |
| gmfdz | buyer_address | 购买方地址 |
| gmfdh | buyer_phone | 购买方电话 |
| gmfkhh | buyer_bank_name | 购买方开户行 |
| gmfzh | buyer_bank_account | 购买方账号 |
| gmfjbr | buyer_agent_name | 购买方经办人姓名 |
| jbrsfzjhm | buyer_agent_id_number | 经办人身份证件号码 |
| gmfjbrlxdh | buyer_agent_phone | 经办人联系电话 |
| hjje | total_amount | 合计金额 |
| hjse | total_tax | 合计税额 |
| jshj | total_amount_with_tax | 价税合计 |
| skyhmc | collection_bank_name | 收款银行名称 |
| skyhzh | collection_bank_account | 收款银行账号 |
| jsfs | settlement_method | 结算方式 |
| ysxwfsd | tax_behavior_location | 应税行为发生地 |
| kpr | drawer_name | 开票人 |
| kprzjhm | drawer_id_number | 开票人证件号码 |
| kprzjlx | drawer_id_type | 开票人证件类型 |
| dylzfphm | corresponding_blue_invoice_no | 对应蓝字发票号码 |
| hzqrxxdbh | red_confirmation_info_no | 红字确认信息单编号 |
| hzqrduuid | red_confirmation_uuid | 红字确认单uuid |
| bz | remark | 备注 |
| ip | server_ip | 服务器地址 |
| macdz | mac_address | mac地址 |
| cpuid | cpu_id | CPU序列号 |
| zbxlh | motherboard_serial | 主板序列号 |
| sfzsxsfyhzhbq | show_seller_bank_flag | 是否展示销售方银行账号标签 |
| sfzsgmfyhzhbq | show_buyer_bank_flag | 是否展示购买方银行账号标签 |
| skrxm | payee_name | 收款人姓名 |
| fhrxm | reviewer_name | 复核人姓名 |

## 2. 发票明细表 (invoice_detail)

| 原字段名 | 新字段名 | 说明 |
|---------|----------|------|
| dylzfpmxxh | corresponding_blue_detail_no | 对应蓝字发票明细序号 |
| mxxh | detail_no | 明细序号 |
| spfwjc | goods_service_name | 商品服务简称 |
| xmmc | item_name | 项目名称 |
| hwhyslwfwmc | goods_or_service_full_name | 货物或应税劳务、服务名称 |
| ggxh | specification | 规格型号 |
| dw | unit | 单位 |
| sl | quantity | 数量 |
| dj | unit_price | 单价 |
| je | amount | 金额 |
| slv | tax_rate | 增值税税率/征收率 |
| se | tax_amount | 税额 |
| hsje | amount_with_tax | 含税金额 |
| kce | deduction_amount | 差额征税扣除额 |
| sphfwssflhbbm | goods_service_tax_code | 商品和服务税收分类合并编码 |
| fphxz | invoice_line_nature | 发票行性质 |
| yhzcbs | preferential_policy_flag | 优惠政策标识 |

## 3. 出行人信息表 (invoice_traveler)

| 原字段名 | 新字段名 | 说明 |
|---------|----------|------|
| cxrxh | traveler_no | 出行人序号 |
| cxr | traveler_name | 出行人 |
| cxrzjlxDm | traveler_id_type | 出行人证件类型 |
| sfzjhm | id_number | 有效身份证件号 |
| chuxrq | travel_date | 出行日期 |
| cfd | departure_place | 旅客出发地 |
| ddd | destination_place | 旅客到达地 |
| zwdj | seat_level | 等级 |
| jtgjlxDm | transport_type | 交通工具类型 |

## 4. 运输明细表 (invoice_transport)

| 原字段名 | 新字段名 | 说明 |
|---------|----------|------|
| ysmxxh | transport_detail_no | 运输明细序号 |
| qyd | departure_place | 起运地 |
| ddd | destination_place | 到达地 |
| ysgjzl | transport_tool_type | 运输工具种类 |
| ysgjph | transport_tool_number | 运输工具牌号 |
| yshwmc | cargo_name | 运输货物名称 |

## 5. 建筑服务特定要素表 (invoice_construction)

| 原字段名 | 新字段名 | 说明 |
|---------|----------|------|
| jzfwfsd | construction_service_location | 建筑服务发生地 |
| jzxmmc | construction_project_name | 建筑项目名称 |
| tdzzsxmbh | land_value_tax_project_no | 土地增值税项目编号 |
| kdsbz | cross_city_flag | 跨地市标志 |
| kqysssxbyglbh | cross_region_tax_report_no | 跨区域涉税事项报验管理编号 |

## 6. 不动产经营租赁特定要素表 (invoice_real_estate_lease)

| 原字段名 | 新字段名 | 说明 |
|---------|----------|------|
| xh | serial_no | 序号 |
| bdczldzS | property_location_province | 不动产坐落地址（省） |
| bdczldzS1 | property_location_city | 不动产坐落地址（市） |
| bdczldzXxdz | property_location_detail | 不动产坐落地址（详细地址） |
| zlqqz | lease_period | 租赁期起止 |
| kdsbz | cross_city_flag | 跨地市标志 |
| cqzsbh | property_certificate_no | 产权证书/不动产权证号 |
| cph | license_plates | 车牌号数组 |

## 7. 不动产销售特定要素表 (invoice_real_estate_sale)

| 原字段名 | 新字段名 | 说明 |
|---------|----------|------|
| dfgtgmbz | multi_buyer_flag | 多方共同购买标志 |

## 8. 共同购买方表 (invoice_common_buyer)

| 原字段名 | 新字段名 | 说明 |
|---------|----------|------|
| gtgmf | common_buyer_name | 共同购买方 |
| zjlx | id_type | 证件类型 |
| zjhm | id_number | 证件号码 |

## 9. 不动产信息表 (invoice_real_estate_info)

| 原字段名 | 新字段名 | 说明 |
|---------|----------|------|
| xh | serial_no | 序号 |
| bdcdwdm | property_unit_code | 不动产单位代码 |
| wqhtbabh | online_contract_record_no | 网签合同备案编号 |
| bdczldzS | property_location_province | 不动产坐落地址（省） |
| bdczldzS1 | property_location_city | 不动产坐落地址（市） |
| bdczldzXxdz | property_location_detail | 不动产坐落地址（详细地址） |
| tdzzsxmbh | land_value_tax_project_no | 土地增值税项目编号 |
| kdsbz | cross_city_flag | 跨地市标志 |
| hdjsjg | approved_tax_price | 核定计税价格 |
| sjcjhsje | actual_transaction_amount | 实际成交含税金额 |
| cqzsbh | property_certificate_no | 产权证书/不动产权证号 |

## 字段重命名的优势

### 1. 提高代码可读性
- 英文字段名更直观，便于理解业务含义
- 避免了中文拼音缩写带来的歧义
- 符合国际化编程规范

### 2. 便于维护和开发
- IDE自动补全更准确
- 代码评审更容易
- 新团队成员更容易上手

### 3. 降低错误率
- 减少因字段名不清晰导致的错误
- 提高SQL语句的可读性
- 便于数据库设计文档化

### 4. 兼容性保证
- 在注释中保留原字段名，确保历史兼容性
- 便于从旧系统迁移数据
- 方便与第三方接口对接时的字段映射

## 注意事项

1. **数据迁移**: 如果已有旧数据，需要考虑数据迁移策略
2. **接口兼容**: 需要更新相关的API接口字段映射
3. **文档更新**: 需要同步更新相关的业务文档和技术文档
4. **测试验证**: 需要全面测试确保字段重命名后功能正常