# 智慧能源系统BOS后台布局规范总结

## 一、列表页面查看弹窗布局规范

### 弹窗基础结构
```jsx
<Modal
  title="详情标题"           // 统一格式："{模块名}详情"
  open={isViewModalVisible}
  onCancel={closeModal}
  footer={[                 // 只有关闭按钮
    <Button key="close" onClick={closeModal}>
      关闭
    </Button>
  ]}
  width={900}               // 固定宽度900px
>
```

### 内容布局规范
1. **主要信息区域**
   - 使用 `Descriptions` 组件：`column={2} bordered`
   - 2列布局，带边框显示
   - 每个字段使用 `Descriptions.Item`

2. **特殊字段处理**
   - **状态类字段**：使用 `Tag` 组件，颜色编码
     ```jsx
     <Tag color={status === '正常' ? 'green' : status === '维护中' ? 'orange' : 'red'}>
       {status}
     </Tag>
     ```
   - **文件类字段**：使用 `Button type="link"` 显示下载链接
   - **数值类字段**：使用 `toLocaleString()` 格式化显示

3. **分段信息显示**
   - 主要信息后可添加专项信息段
   - 分段标题样式：
     ```jsx
     <div style={{ 
       fontSize: 16, 
       fontWeight: 'bold', 
       marginBottom: 16,
       borderBottom: '1px solid #f0f0f0',
       paddingBottom: 8
     }}>
       分段标题
     </div>
     ```
   - 次要信息使用：`column={3} bordered size="small"`

### CSS样式规范
- 弹窗宽度：900px
- 主内容：2列布局
- 次要内容：3列小尺寸布局
- 分段间距：24px

## 二、页面筛选框和按钮布局规范

### 整体结构
```jsx
<Card style={{ marginBottom: 16 }}>
  {/* 第一行：筛选条件 */}
  <Row gutter={16} style={{ marginBottom: 16 }}>
    {/* 筛选组件 */}
  </Row>
  
  {/* 第二行：功能按钮 */}
  <Row gutter={16}>
    <Col span={24}>
      <Space>
        {/* 功能按钮 */}
      </Space>
    </Col>
  </Row>
</Card>
```

### 第一行筛选条件布局
- **列宽分配**：根据筛选项数量灵活调整，常用5-4-4-4-7或6-4-4-4-6
- **最后一列**：右对齐，包含"查询"和"重置"按钮
- **组件规范**：
  - `TreeSelect`：用于组织/油站选择
  - `Select mode="multiple"`：用于多选筛选
  - `Input`：用于关键字搜索，带搜索图标

### 第二行功能按钮布局
- **容器**：`Col span={24}` + `Space` 组件
- **对齐方式**：默认左对齐
- **按钮顺序**：批量导入 → 下载模板 → 新增/主要操作
- **间距**：使用 `Space` 组件默认间距

### 按钮样式规范
```jsx
// 主要操作按钮
<Button type="primary" icon={<Icon />}>操作名称</Button>

// 次要操作按钮  
<Button icon={<Icon />}>操作名称</Button>

// 链接型按钮
<Button type="link" icon={<Icon />}>操作名称</Button>
```

### 响应式处理
- 可选择性添加 `wrap` 属性支持按钮换行
- 小屏幕下自动调整列宽比例

## 三、修改记录查看弹窗规范

### 数据结构要求
```json
{
  "id": "记录ID",
  "stationId": "关联对象ID", 
  "operationType": "操作类型（新增/编辑/删除）",
  "operatorName": "操作人",
  "operateTime": "操作时间",
  "description": "操作描述",
  "changes": "变更内容",
  "approvalStatus": "审批状态（已审批/审批中/已驳回）",
  "approver": "审批人",
  "approvalTime": "审批时间", 
  "approvalRemark": "审批备注"
}
```

### 弹窗布局
- 基础结构同查看弹窗
- 审批相关字段条件显示（有值才显示）
- 长文本字段使用 `span={2}` 跨列显示

### 表格列定义
- 必含列：操作类型、操作人、操作时间、审批状态、操作
- 审批状态使用Tag组件，颜色编码：
  - 已审批：绿色
  - 审批中：橙色  
  - 已驳回：红色

## 四、删除按钮规范

### 统一使用Popconfirm确认
```jsx
<Popconfirm
  title="确定要删除这个{对象名}吗？"
  onConfirm={() => handleDelete(record)}
  okText="确定"
  cancelText="取消"
>
  <Button
    type="primary"
    size="small"
    danger
    icon={<DeleteOutlined />}
  >
    删除
  </Button>
</Popconfirm>
```

### 样式要求
- 类型：`type="primary" danger`
- 尺寸：`size="small"`
- 图标：`<DeleteOutlined />`
- 确认提示：简洁明确的提示文字

## 五、通用设计原则

1. **一致性**：所有同类型组件保持统一样式和交互
2. **层次性**：通过颜色、大小、位置体现信息层级
3. **响应式**：适配不同屏幕尺寸
4. **可用性**：操作流程简单直观，减少用户认知负担
5. **安全性**：危险操作必须二次确认

该规范适用于所有列表页面的查看弹窗、筛选布局和操作按钮设计。 